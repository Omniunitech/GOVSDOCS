<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPI Payment Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #payment-form {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 300px;
            
        }
        h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        label {
            display: block;
            margin-bottom: 2px;
            font-weight: bold;
            color:black;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        select {
    width: calc(50% - 10px);
    padding: 7px;
    margin-bottom: 7px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

       
       
        #confirmation-message {
            margin-top: 20px;
            display: none;
            text-align: center;
            color: #d9534f;
        }
    </style>
</head>
<body>
    <form id="payment-form">
        <div class="payment-container">
            <img src="payicon.jpg" id="payicon" style="width:80%; height:100px;">
           
            <p></p>
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Enter your name">
            <label for="amount">Amount (to pay)</label>
            <input type="number" id="amount" name="amount" required>
      
       <button type="button" onclick="showQRCode()" style="">or Show QR Code</button>
      
       <img src="qrcode.jpg" id="qr-code" style="width:80%; height:150px; display:none;">
            
            <p style="text-align: center;"><i class="fa fa-money"> Charge/per Application: ₹ 80</i></p>
            <div style="display: flex; justify-content: space-between;">
                <div style="flex: 1; margin-right: 10px;">
                    <label for="month">PAYMENT FOR:</label>
                    <select id="month" name="month">
                        <option value="1"></option>
                        <option value="2">Service Charge</option>
                        <option value="3">Exam Fee & Charge</option>
                    </select>
                </div>
            </div>
            <br>
            <button type="button" onclick="initiatePayment()" style="  background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            align-items: center;
            margin-left: 90px;">Pay Now</button>
        </div>
        <div id="confirmation-message">
            <p>We hope your payment was successful. Otherwise, we can't resume processing your application (हमें उम्मीद है कि आपका भुगतान सफल रहा होगा। अन्यथा, हम आपके आवेदन की प्रक्रिया फिर से शुरू नहीं कर सकते). please Wait for Payment Slip .......</p>
        </div>
    </form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
         function initiatePayment() {
            const name = document.getElementById('name').value;
            const amount = document.getElementById('amount').value;
            const paymentFor = document.getElementById('month').value;
            const upiId = '9128191357@ibl'; // Your UPI ID
            
            if (name && amount && paymentFor) {
                // Create UPI payment URL
                const upiURL = `upi://pay?pa=${upiId}&pn=RecipientName&am=${amount}&cu=INR`;

                // Open UPI payment URL in a new tab (or same tab)
                window.location.href = upiURL;

                // Display confirmation message after the payment initiation
                document.getElementById('confirmation-message').style.display = 'block';

                // Simulate a successful payment process (for demonstration purposes)
                setTimeout(() => {
                    generatePaymentSlip(name, amount, paymentFor, upiId);
                }, 50000); // 50 seconds delay
            } else {
                alert('Please enter all required details.');
            }
        }

        function generatePaymentSlip(name, amount, paymentFor, upiId) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.text('Payment Successful!', 10, 10);
            doc.text(`Name: ${name}`, 10, 20);
            doc.text(`Amount: ${amount}`, 10, 30);
            doc.text(`Payment For: ${getPaymentForText(paymentFor)}`, 10, 40);
            doc.text(`Transaction ID: ${Math.random().toString(36).substr(2, 9)}`, 10, 50);
            doc.text(`Date: ${new Date().toLocaleString()}`, 10, 60);

            doc.save('payment_slip.pdf');
        }

        function getPaymentForText(value) {
            switch (value) {
                case '2':
                    return 'Service Charge';
                case '3':
                    return 'Exam Fee & Charge';
                default:
                    return '';
            }
        }

        function showQRCode() {
            const qrCode = document.getElementById('qr-code');
            qrCode.style.display = 'block';
        }
    </script>
</body>
</html>
